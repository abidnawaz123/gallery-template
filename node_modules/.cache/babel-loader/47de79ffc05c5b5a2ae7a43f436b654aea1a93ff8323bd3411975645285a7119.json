{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nconst initialState = {\n  data: [{\n    tag: 9\n  }],\n  loading: 'idle',\n  error: null\n};\nconst fetchApiData = createAsyncThunk('api/fetchData', async () => {\n  // const response = await fetch(\"https://api.slingacademy.com/v1/sample-data/photos?offset=5&limit=20\");\n  const response = await fetch(\"http://localhost:8000/photos\");\n  if (!response.ok) {\n    throw new Error('Error in response');\n  }\n  const data = await response.json();\n  return data;\n});\nconst addApiData = createAsyncThunk('api/addData', async data => {\n  const response = await fetch(\"http://localhost:8000/photos\", {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n  if (!response.ok) {\n    throw new Error('Error in response');\n  }\n  const responseData = await response.json();\n  return responseData;\n});\nconst deleteApiData = createAsyncThunk('api/deleteData', async id => {\n  console.log('this is id ---.>>', id);\n  const response = await fetch(`http://localhost:8000/photos/${id}`, {\n    method: 'DELETE'\n  });\n  if (!response.ok) {\n    throw new Error('Error in response');\n  }\n  const data = await response.json();\n  return data;\n});\nconst apiSlice = createSlice({\n  name: 'api',\n  initialState,\n  reducers: {\n    updateLocalData: (state, action) => {\n      console.log(\"this is getting happened -->>\", state.data, action.payload);\n      state.data = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchApiData.pending, state => {\n      state.loading = 'loading';\n      state.error = null;\n    }).addCase(fetchApiData.fulfilled, (state, action) => {\n      state.loading = 'succeeded';\n      state.data = action.payload;\n    }).addCase(fetchApiData.rejected, (state, action) => {\n      state.loading = 'failed';\n      state.error = action.error.message;\n    })\n    //add data\n    .addCase(addApiData.pending, state => {\n      state.loading = 'loading';\n      state.error = null;\n    }).addCase(addApiData.fulfilled, (state, action) => {\n      state.loading = 'succeeded';\n      state.data = action.payload;\n    }).addCase(addApiData.rejected, (state, action) => {\n      state.loading = 'failed';\n      state.error = action.error.message;\n    })\n    //delete api\n    .addCase(deleteApiData.pending, state => {\n      state.loading = 'loading';\n      state.error = null;\n    }).addCase(deleteApiData.fulfilled, (state, action) => {\n      state.loading = 'succeeded';\n      state.data = action.payload;\n    }).addCase(deleteApiData.rejected, (state, action) => {\n      state.loading = 'failed';\n      state.error = action.error.message;\n    });\n  }\n});\nexport const {\n  updateLocalData\n} = apiSlice.actions;\nexport { fetchApiData, deleteApiData, addApiData };\nexport default apiSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","initialState","data","tag","loading","error","fetchApiData","response","fetch","ok","Error","json","addApiData","method","headers","body","JSON","stringify","responseData","deleteApiData","id","console","log","apiSlice","name","reducers","updateLocalData","state","action","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","message","actions","reducer"],"sources":["C:/Users/DELL/Desktop/gallery-template/src/components/redux/apiSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n    data: [{tag : 9}],\r\n    loading: 'idle',\r\n    error: null,\r\n};\r\n\r\nconst fetchApiData = createAsyncThunk('api/fetchData', async () => {\r\n\r\n    // const response = await fetch(\"https://api.slingacademy.com/v1/sample-data/photos?offset=5&limit=20\");\r\n    const response = await fetch(\"http://localhost:8000/photos\")\r\n\r\n    if (!response.ok) {\r\n        throw new Error('Error in response');\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n});\r\n\r\n\r\n\r\nconst addApiData = createAsyncThunk('api/addData', async (data) => {\r\n    const response = await fetch(\"http://localhost:8000/photos\", {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!response.ok) {\r\n        throw new Error('Error in response');\r\n    }\r\n    const responseData = await response.json();\r\n    return responseData;\r\n});\r\n\r\n\r\n\r\nconst deleteApiData = createAsyncThunk('api/deleteData', async (id) => {\r\n    console.log('this is id ---.>>', id)\r\n    const response = await fetch(`http://localhost:8000/photos/${id}`, {\r\n        method: 'DELETE',\r\n    })\r\n\r\n    if (!response.ok) {\r\n        throw new Error('Error in response');\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst apiSlice = createSlice({\r\n    name: 'api',\r\n    initialState,\r\n    reducers: {\r\n        updateLocalData : (state,action)=>{\r\n            console.log(\"this is getting happened -->>\",state.data,action.payload)\r\n            state.data = action.payload\r\n        },\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(fetchApiData.pending, (state) => {\r\n                state.loading = 'loading';\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchApiData.fulfilled, (state, action) => {\r\n                state.loading = 'succeeded';\r\n                state.data = action.payload;\r\n            })\r\n            .addCase(fetchApiData.rejected, (state, action) => {\r\n                state.loading = 'failed';\r\n                state.error = action.error.message;\r\n            })\r\n            //add data\r\n            .addCase(addApiData.pending, (state) => {\r\n                state.loading = 'loading';\r\n                state.error = null;\r\n            })\r\n            .addCase(addApiData.fulfilled, (state, action) => {\r\n                state.loading = 'succeeded';\r\n                state.data = action.payload;\r\n            })\r\n            .addCase(addApiData.rejected, (state, action) => {\r\n                state.loading = 'failed';\r\n                state.error = action.error.message;\r\n            })\r\n            //delete api\r\n            .addCase(deleteApiData.pending, (state) => {\r\n                state.loading = 'loading';\r\n                state.error = null;\r\n            })\r\n            .addCase(deleteApiData.fulfilled, (state, action) => {\r\n                state.loading = 'succeeded';\r\n                state.data = action.payload;\r\n            })\r\n            .addCase(deleteApiData.rejected, (state, action) => {\r\n                state.loading = 'failed';\r\n                state.error = action.error.message;\r\n            });\r\n    },\r\n});\r\n\r\nexport const {updateLocalData} = apiSlice.actions;\r\nexport { fetchApiData, deleteApiData, addApiData };\r\nexport default apiSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}