{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nconst initialState = {\n  data: [],\n  loading: 'idle',\n  error: null,\n  tag: []\n};\nconst fetchApiData = createAsyncThunk('api/fetchData', async () => {\n  // const response = await fetch(\"https://api.slingacademy.com/v1/sample-data/photos?offset=5&limit=20\");\n  const response = await fetch(\"http://localhost:8000/photos\");\n  if (!response.ok) {\n    throw new Error('Error in response');\n  }\n  const data = await response.json();\n  return data;\n});\nconst addApiData = createAsyncThunk('api/addData', async data => {\n  const response = await fetch(\"http://localhost:8000/photos\", {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n  if (!response.ok) {\n    throw new Error('Error in response');\n  }\n  const responseData = await response.json();\n  return responseData;\n});\nconst deleteApiData = createAsyncThunk('api/deleteData', async id => {\n  console.log('this is id ---.>>', id);\n  const response = await fetch(`http://localhost:8000/photos/${id}`, {\n    method: 'DELETE'\n  });\n  if (!response.ok) {\n    throw new Error('Error in response');\n  }\n  const data = await response.json();\n  return data;\n});\n\n// const updateLocalDataSize = createAsyncThunk('api/updateItemHeight', async (data) => {\n//     const response = await fetch(`http://localhost:8000/photos/${tag}`, {\n//         method: 'PATCH',\n//         headers:{\n//             'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify(data)\n//     })\n\n//     if (!response.ok) {\n//         throw new Error('Error in response');\n//     }\n//     const data = await response.json();\n//     return data;\n// });\n\nconst updateLocalDataSize = createAsyncThunk('api/updateItemHeight', async ({\n  tag,\n  data\n}) => {\n  const response = await fetch(`http://localhost:8000/photos/${tag}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n  if (!response.ok) {\n    throw new Error('Error in response');\n  }\n  const responseData = await response.json();\n  return responseData;\n});\nconst apiSlice = createSlice({\n  name: 'api',\n  initialState,\n  reducers: {\n    updateLocalData: (state, action) => {\n      state.tag = [...state.tag, action.payload];\n    },\n    deleteLocalData: (state, action) => {\n      state.tag = state.tag.filter((items, index) => {\n        return items.tag !== action.payload;\n      });\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchApiData.pending, state => {\n      state.loading = 'loading';\n      state.error = null;\n    }).addCase(fetchApiData.fulfilled, (state, action) => {\n      state.loading = 'succeeded';\n      state.data = action.payload;\n    }).addCase(fetchApiData.rejected, (state, action) => {\n      state.loading = 'failed';\n      state.error = action.error.message;\n    })\n    //add data\n    .addCase(addApiData.pending, state => {\n      state.loading = 'loading';\n      state.error = null;\n    }).addCase(addApiData.fulfilled, (state, action) => {\n      state.loading = 'succeeded';\n      state.data = action.payload;\n    }).addCase(addApiData.rejected, (state, action) => {\n      state.loading = 'failed';\n      state.error = action.error.message;\n    })\n    //delete api\n    .addCase(deleteApiData.pending, state => {\n      state.loading = 'loading';\n      state.error = null;\n    }).addCase(deleteApiData.fulfilled, (state, action) => {\n      state.loading = 'succeeded';\n      state.data = action.payload;\n    }).addCase(deleteApiData.rejected, (state, action) => {\n      state.loading = 'failed';\n      state.error = action.error.message;\n    })\n    //updateHeightOfItem\n    .addCase(updateLocalData.pending, state => {\n      state.loading = 'loading';\n      state.error = null;\n    }).addCase(updateLocalData.fulfilled, (state, action) => {\n      state.loading = 'succeeded';\n      console.log('state.data  s ..,', state.data);\n    }).addCase(updateLocalData.rejected, (state, action) => {\n      state.loading = 'failed';\n      state.error = action.error.message;\n    });\n  }\n});\nexport const {\n  updateLocalData,\n  deleteLocalData\n} = apiSlice.actions;\nexport { fetchApiData, deleteApiData, addApiData, updateLocalDataSize };\nexport default apiSlice.reducer;\n\n// const photosArray = state?.tag || []\n// const selectedItem = action.payload.tag\n\n// state.tag = photosArray.map(photoDetail => {\n//     let item = photoDetail\n//     if (item.tag === selectedItem) item.height = action.payload.height\n//     return item\n// })\n// // state.tag = [...state.tag, state.tag[action.payload.tag].height = action.payload.height]\n// // const currItem = state.tag.filter((items, ind) => {\n// //     return (items.tag == action.payload.tag)\n// // })\n// // console.log('currItem', currItem)\n\n// console.log('this is id ---.>>', id)\n// const response = await fetch(`http://localhost:8000/photos/${id}`, {\n// method: 'DELETE',","map":{"version":3,"names":["createSlice","createAsyncThunk","initialState","data","loading","error","tag","fetchApiData","response","fetch","ok","Error","json","addApiData","method","headers","body","JSON","stringify","responseData","deleteApiData","id","console","log","updateLocalDataSize","apiSlice","name","reducers","updateLocalData","state","action","payload","deleteLocalData","filter","items","index","extraReducers","builder","addCase","pending","fulfilled","rejected","message","actions","reducer"],"sources":["/home/workspace/Desktop/Projects/gallery-template/src/components/redux/apiSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nconst initialState = {\n    data: [],\n    loading: 'idle',\n    error: null,\n    tag: [],\n};\n\nconst fetchApiData = createAsyncThunk('api/fetchData', async () => {\n\n    // const response = await fetch(\"https://api.slingacademy.com/v1/sample-data/photos?offset=5&limit=20\");\n    const response = await fetch(\"http://localhost:8000/photos\")\n\n    if (!response.ok) {\n        throw new Error('Error in response');\n    }\n    const data = await response.json();\n    return data;\n});\n\n\n\nconst addApiData = createAsyncThunk('api/addData', async (data) => {\n    const response = await fetch(\"http://localhost:8000/photos\", {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n        throw new Error('Error in response');\n    }\n    const responseData = await response.json();\n    return responseData;\n});\n\n\n\nconst deleteApiData = createAsyncThunk('api/deleteData', async (id) => {\n    console.log('this is id ---.>>', id)\n    const response = await fetch(`http://localhost:8000/photos/${id}`, {\n        method: 'DELETE',\n    })\n\n    if (!response.ok) {\n        throw new Error('Error in response');\n    }\n    const data = await response.json();\n    return data;\n});\n\n\n// const updateLocalDataSize = createAsyncThunk('api/updateItemHeight', async (data) => {\n//     const response = await fetch(`http://localhost:8000/photos/${tag}`, {\n//         method: 'PATCH',\n//         headers:{\n//             'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify(data)\n//     })\n\n//     if (!response.ok) {\n//         throw new Error('Error in response');\n//     }\n//     const data = await response.json();\n//     return data;\n// });\n\nconst updateLocalDataSize = createAsyncThunk('api/updateItemHeight', async ({ tag, data }) => {\n    const response = await fetch(`http://localhost:8000/photos/${tag}`, {\n        method: 'PATCH',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n    })\n\n    if (!response.ok) {\n        throw new Error('Error in response');\n    }\n    const responseData = await response.json();\n    return responseData;\n});\n\n\n\nconst apiSlice = createSlice({\n    name: 'api',\n    initialState,\n    reducers: {\n        updateLocalData: (state, action) => {\n            state.tag = [...state.tag, action.payload]\n        },\n        deleteLocalData: (state, action) => {\n            state.tag = state.tag.filter((items, index) => {\n                return (items.tag !== action.payload)\n            })\n        },\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchApiData.pending, (state) => {\n                state.loading = 'loading';\n                state.error = null;\n            })\n            .addCase(fetchApiData.fulfilled, (state, action) => {\n                state.loading = 'succeeded';\n                state.data = action.payload;\n            })\n            .addCase(fetchApiData.rejected, (state, action) => {\n                state.loading = 'failed';\n                state.error = action.error.message;\n            })\n            //add data\n            .addCase(addApiData.pending, (state) => {\n                state.loading = 'loading';\n                state.error = null;\n            })\n            .addCase(addApiData.fulfilled, (state, action) => {\n                state.loading = 'succeeded';\n                state.data = action.payload;\n            })\n            .addCase(addApiData.rejected, (state, action) => {\n                state.loading = 'failed';\n                state.error = action.error.message;\n            })\n            //delete api\n            .addCase(deleteApiData.pending, (state) => {\n                state.loading = 'loading';\n                state.error = null;\n            })\n            .addCase(deleteApiData.fulfilled, (state, action) => {\n                state.loading = 'succeeded';\n                state.data = action.payload;\n            })\n            .addCase(deleteApiData.rejected, (state, action) => {\n                state.loading = 'failed';\n                state.error = action.error.message;\n            })\n            //updateHeightOfItem\n            .addCase(updateLocalData.pending, (state) => {\n                state.loading = 'loading';\n                state.error = null;\n            })\n            .addCase(updateLocalData.fulfilled, (state, action) => {\n                state.loading = 'succeeded';\n                console.log('state.data  s ..,',state.data)\n            })\n            .addCase(updateLocalData.rejected, (state, action) => {\n                state.loading = 'failed';\n                state.error = action.error.message;\n            });\n    },\n});\n\nexport const { updateLocalData, deleteLocalData } = apiSlice.actions;\nexport { fetchApiData, deleteApiData, addApiData, updateLocalDataSize };\nexport default apiSlice.reducer;\n\n\n\n\n// const photosArray = state?.tag || []\n// const selectedItem = action.payload.tag\n\n// state.tag = photosArray.map(photoDetail => {\n//     let item = photoDetail\n//     if (item.tag === selectedItem) item.height = action.payload.height\n//     return item\n// })\n// // state.tag = [...state.tag, state.tag[action.payload.tag].height = action.payload.height]\n// // const currItem = state.tag.filter((items, ind) => {\n// //     return (items.tag == action.payload.tag)\n// // })\n// // console.log('currItem', currItem)\n\n// console.log('this is id ---.>>', id)\n// const response = await fetch(`http://localhost:8000/photos/${id}`, {\n// method: 'DELETE',"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}